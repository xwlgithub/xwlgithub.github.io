<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SpringCloud注册中心</title>
      <link href="2020/10/16/springcloud-zhu-ce-zhong-xin/"/>
      <url>2020/10/16/springcloud-zhu-ce-zhong-xin/</url>
      
        <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Eureka是Netflix开发的服务发现框架，本身是一个基于REST的服务，主要用于定位运行在AWS域中的中间层服务，以达到负载均衡和中间层服务故障转移的目的。SpringCloud将它集成在其子项目spring-cloud-netflix中，以实现SpringCloud的服务发现功能。</p><p>Eureka分为两个组件：server(服务端)和client(客户端)</p><p>注册中心节点默认时间：Eureka Server发送心跳,默认周期为30秒，如果Eureka Server在多个心跳周期内没有接收到某个节点的心跳，Eureka Server将会从服务注册表中把这个服务节点移除(默认90秒)。</p><p>eureka server 优点:  通过复制的方式完成数据的同步，Eureka还提供了客户端缓存机制，即使所有的Eureka Server都挂掉，客户端依然可以利用缓存中的信息消费其他服务的API。综上，Eureka通过心跳检查、客户端缓存等机制，确保了系统的高可用性、灵活性和可伸缩性。</p><h2 id="本章实例为eureka注册中心的发现"><a href="#本章实例为eureka注册中心的发现" class="headerlink" title="本章实例为eureka注册中心的发现"></a>本章实例为eureka注册中心的发现</h2><p>eureka版本：1.5<br>工具:idea<br>工程：maven<br>环境:jdk1.8</p><h3 id="实例流程如下"><a href="#实例流程如下" class="headerlink" title="实例流程如下"></a>实例流程如下</h3><h4 id="建一个以maven为依赖的父项目用来管理多个子项目"><a href="#建一个以maven为依赖的父项目用来管理多个子项目" class="headerlink" title="建一个以maven为依赖的父项目用来管理多个子项目"></a>建一个以maven为依赖的父项目用来管理多个子项目</h4><p><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/one.png"><br><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/two.png"><br>然后下一个窗口:<br>Projectname表示项目名称<br>Projectlocation表示项目存储的电脑路径<br>Finish即可完成</p><h4 id="新建springboot项目作为eurekaserver-注册中心"><a href="#新建springboot项目作为eurekaserver-注册中心" class="headerlink" title="新建springboot项目作为eurekaserver(注册中心)"></a>新建springboot项目作为eurekaserver(注册中心)</h4><p>在刚刚创建好的父工程名称右键：New<del>Model<br><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/three.png"><br><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/four.png"><br><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/five.png"><br><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/six.png"><br>打开作为注册中心的子工程项目<br>在resources下重命名application.properties  ~</del>改名为application.yml<br>配置如下:</p><pre><code>##端口号server:  port: 8889##服务ip   eureka:  instance:      hostname: 127.0.0.1  client:  #表示本身不被eureka注册中心发现与注册    register-with-eureka: false    fetch-registry: false    #建立eureka-server注册中心的地址方便其它服务发现并注册    service-url:      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/##服务名称      spring:  application:    name: eureka-server</code></pre><p>启动类如下：(idea一般都会自动生成一个启动类如果没有就新建一个)</p><pre><code>package com.itxwl.eureka;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;//启动类必须的注解@SpringBootApplication//表示这是一个注册中心@EnableEurekaServerpublic class EurekaApplication {    public static void main(String[] args) {        SpringApplication.run(EurekaApplication.class, args);    }}</code></pre><p>pom.xml核心依赖</p><pre><code>&lt;parent&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        &lt;version&gt;1.5.18.RELEASE&lt;/version&gt;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    &lt;/parent&gt;    &lt;groupId&gt;com.itxwl&lt;/groupId&gt;    &lt;artifactId&gt;eureka&lt;/artifactId&gt;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;    &lt;name&gt;eureka&lt;/name&gt;    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;    &lt;properties&gt;        &lt;java.version&gt;1.8&lt;/java.version&gt;        &lt;spring-cloud.version&gt;Edgware.SR5&lt;/spring-cloud.version&gt;    &lt;/properties&gt;    &lt;!--eureka核心依赖--&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;            &lt;artifactId&gt;spring-cloud-starter-eureka-server&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;!--添加测试依赖--&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            &lt;scope&gt;test&lt;/scope&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;    &lt;dependencyManagement&gt;        &lt;dependencies&gt;            &lt;dependency&gt;                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;                &lt;type&gt;pom&lt;/type&gt;                &lt;scope&gt;import&lt;/scope&gt;            &lt;/dependency&gt;        &lt;/dependencies&gt;    &lt;/dependencyManagement&gt;    &lt;build&gt;        &lt;plugins&gt;            &lt;plugin&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;            &lt;/plugin&gt;        &lt;/plugins&gt;    &lt;/build&gt;</code></pre><p>启动类~~启动之后打开浏览器<br>如下所示即为成功<br><img src="/2020/10/16/springcloud-zhu-ce-zhong-xin/seven.png"></p>]]></content>
      
      
      <categories>
          
          <category> 微服务 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> eureka </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
